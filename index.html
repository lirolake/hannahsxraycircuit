<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Roboto" rel="stylesheet">
    <title>Hannah's X-Ray Circuit</title>
    <style>
    body {
      background: #DFB7EB;
      overflow: hidden;
      font-family: 'Roboto', sans-serif;
      font-weight: bold;
    }
    .circuit > a {
      color: #DFB7EB;
      text-decoration: none;
      font-size: 12px;
    }
    .circuit > img {
      border: solid thick transparent;
      left: 15px;
      top: 0px;
      aspect-ratio: 16/9;
    }
    #plugon,
    #plugoff {
      border: solid thick #4A086C;
      filter: drop-shadow(10px 10px 0px #9F42DB) drop-shadow(10px 10px 0px #D764DB);
    }
    .parent {
      position: relative;
    }
    .child {
      position: absolute;
      top: 2%;
      left: 10%;
      width: 80%;
    }
    .circuit {
      position: relative;
    }
    .buttons {
      position: absolute;
    }
    .buttons#powerswitch {
      top: 27%;
      left: 7%;
    }
    .buttons#autotransformer {
      top: 5%;
      left: 12%;
    }
    .buttons#linecompensator {
      top: 58%;
      left: 12%;
    }
    .buttons#majorkVpSelector {
      top: 16%;
      left: 31%;
    }
    .buttons#minorkVpSelector {
      top: 34%;
      left: 32%;
    }
    .buttons#kVpMeter {
      top: 25%;
      left: 44%;
    }
    .buttons#timingCircuit {
      top: 11%;
      left: 46%;
    }
    .buttons#stepUpTransformer {
      top: 5%;
      left: 60%;
    }
    .buttons#mAMeter {
      top: 22%;
      left: 76%;
    }
    .buttons#rectifier {
      top: 38%;
      left: 76%;
    }
    .buttons#mASelector {
      top: 50%;
      left: 40%;
    }
    .buttons#focalSpotSelector {
      top: 46%;
      left: 58%;
    }
    .buttons#stepDownTransformer {
      top: 53%;
      left: 68%;
    }
    .buttons#tube {
      top: 18%;
      left: 85%;
    }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row py-5">
        <div class="col text-center">
          <img src="assets/images/title.png" class="w-25" />
        </div>
      </div>
      <div class="row">
        <div class="col-10 offset-1 col-lg-3">
          <div class="parent">
            <div class="child text-center">
              <p id="textbox">To successfully take an x-ray with this circuit, click the component's label in the correct order to power it.<br />Click the power label to begin.</p>
            </div>
            <img src="assets/images/textbubble.png" class="w-100" />
            <img src="assets/images/talkingskull2.gif" class="w-100" id="talkingskull" style="display: none" />
            <img src="assets/images/quietskull.png" class="w-100" id="quietskull" />
          </div>
        </div>
        <div class="col-10 offset-1 col-lg-7 offset-lg-0 circuit">
          <img src="assets/images/plugoffglow.gif" class="w-100" id="plugoff" />
          <img src="assets/images/plugonglow.gif" class="w-100" id="plugon" style="display:none;" />
          <img src="assets/images/autotransformerglow.gif" class="position-absolute" id="autotransformer" style="display:none;" />
          <img src="assets/images/kVpselectorglow.gif" class="position-absolute" id="kVpSelector" style="display:none;" />
          <img src="assets/images/kVpmeterglow.gif" class="position-absolute" id="kVpMeter" style="display:none;" />
          <img src="assets/images/timingcircuitglow.gif" class="position-absolute" id="timingCircuit" style="display:none;" />
          <img src="assets/images/stepuptransformerglow.gif" class="position-absolute" id="stepUpTransformer" style="display:none;" />
          <img src="assets/images/recandmameterglow.gif" class="position-absolute" id="mAMeter" style="display:none;" />
          <img src="assets/images/rectifiersglow.gif" class="position-absolute" id="rectifier" style="display:none;" />
          <img src="assets/images/mAselectorglow.gif" class="position-absolute" id="mASelector" style="display:none;" />
          <img src="assets/images/stepdownglow.gif" class="position-absolute" id="stepDownTransformer" style="display:none;" />
          <img src="assets/images/tube.gif" class="position-absolute" id="tube" style="display:none;" />
          <a href="javascript:togglePower();" class="buttons" id="powerswitch">Power Switch</a>
          <a href="javascript:autotransformer();" class="buttons" id="autotransformer">Autotransformer</a>
          <a href="javascript:autotransformer();" class="buttons text-right" id="linecompensator">Line<br />Compensator</a>
          <a href="javascript:kVpSelector();" class="buttons" id="majorkVpSelector">Major kVp<br />Selector</a>
          <a href="javascript:kVpSelector();" class="buttons" id="minorkVpSelector">Minor kVp<br />Selector</a>
          <a href="javascript:kVpMeter();" class="buttons" id="kVpMeter">kVp Meter</a>
          <a href="javascript:timingCircuit();" class="buttons" id="timingCircuit">Timing Circuit</a>
          <a href="javascript:stepUpTransformer();" class="buttons" id="stepUpTransformer">Step Up<br />Transformer</a>
          <a href="javascript:mAMeter();" class="buttons" id="mAMeter">mA<br />Meter</a>
          <a href="javascript:rectifier();" class="buttons" id="rectifier">Rectifier</a>
          <a href="javascript:mASelector();" class="buttons" id="mASelector">mA Selector</a>
          <a href="javascript:stepDownTransformer();" class="buttons" id="focalSpotSelector">Focal Spot<br />Selector</a>
          <a href="javascript:stepDownTransformer();" class="buttons" id="stepDownTransformer">Step Down<br />Transformer</a>
          <a href="javascript:tube();" class="buttons text-right" id="tube">X-Ray<br />Tube</a>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
    <script>
      function playAudio(fileName) {
        new Audio("./assets/audio/"+fileName+".mp3").play();
        $('#talkingskull').show();
        $('#quietskull').hide();
        setTimeout(function() {
          $('#talkingskull').hide();
          $('#quietskull').show();
        }, 5300);
      }
      function togglePower() {
        if ($('#plugon').css('display') == 'none') {
          $('#plugon').show();
          $('#plugoff').hide();
          playAudio('power');
          $('#textbox').text("The X-ray circuit has turned on. The line monitor and the line compensator monitor the alternating current that is coming from the power supply.");
        } else {
          $('#plugon').hide();
          $('#plugoff').show();
          $('#autotransformer').hide();
          $('#kVpSelector').hide();
          $('#kVpMeter').hide();
          $('#timingCircuit').hide();
          $('#stepUpTransformer').hide();
          $('#rectifier').hide();
          $('#mAMeter').hide();
          $('#mASelector').hide();
          $('#stepDownTransformer').hide();
          $('#tube').hide();
          $('#textbox').html("To successfully take an x-ray with this circuit, click the component's label in the correct order to power it.<br />Click the power label to begin.");
        }
      }
      function autotransformer() {
        if ($('#plugon').css('display') != 'none') {
          $('#autotransformer').show();
          playAudio('autotransformer');
          $('#textbox').text("The autotransformer works using the self-induction principle. It is a single cable winding around a single core. This transformer allows for the selection of multiple precise voltages, that power the other x-ray circuit components.");
        }
      }
      function kVpSelector() {
        if ($('#autotransformer').css('display') != 'none') {
          $('#kVpSelector').show();
          playAudio('kVpSelector');
          $('#textbox').text("The major and minor kVp selector work in tandem to supply the kVp that an x-ray tech selects on the control monitor. The major kVp selector makes large adjustments to select the correct kVp while the minor kVp selector makes small adjustments to exactly match the tech’s selection.");
        }
      }
      function kVpMeter() {
        if ($('#kVpSelector').css('display') != 'none') {
          $('#kVpMeter').show();
          playAudio('kVpMeter');
          $('#textbox').text("The kVp meter monitors the incoming voltage to ensure that it is the correct voltage before and while the exposure is being made.");
        }
      }
      function timingCircuit() {
        if ($('#kVpMeter').css('display') != 'none') {
          $('#timingCircuit').show();
          playAudio('timingCircuit');
          $('#textbox').text("The timing circuit and selector is responsible for ending the exposure at a prescribed time. This amount of time may be set by a technologist, or be one of multiple automatic systems, including a fail-safe.");
        }
      }
      function stepUpTransformer() {
        if ($('#timingCircuit').css('display') != 'none') {
          $('#stepUpTransformer').show();
          playAudio('stepUpTransformer');
          $('#textbox').text("The step-up transformer works using the mutual induction principle. It has a pair of winding cables, where the secondary side has more turns than the primary side. This increases the voltage flowing through a step-up transformer. The x-ray circuit’s step-up transformer increases the selected voltage into the selected kilovoltage.");
        }
      }
      function mAMeter() {
        if ($('#stepUpTransformer').css('display') != 'none') {
          $('#mAMeter').show();
          playAudio('mAMeter');
          $('#textbox').text("The mA meter measures the rectified current being applied to the tube.");
        }
      }
      function rectifier() {
        if ($('#mAMeter').css('display') != 'none') {
          $('#rectifier').show();
          playAudio('rectifier');
          $('#textbox').text("The rectifiers transform alternating current to direct current by keeping the energy positively charged, instead of alternating between negative and positive charges. The rectifiers also control the direction of the current. This ensures that the X-ray tube gets a steady, direct flow of energy.");
        }
      }
      function mASelector() {
        if ($('#autotransformer').css('display') != 'none') {
          $('#mASelector').show();
          playAudio('mASelector');
          $('#textbox').text("The mA selector uses multiple resistors to lower the current’s amperage to the value that matches the mA that the x-ray tech selected.");
        }
      }
      function stepDownTransformer() {
        if ($('#mASelector').css('display') != 'none') {
          $('#stepDownTransformer').show();
          playAudio('stepDownTransformer');
          $('#textbox').text("The focal spot selector chooses the filament that corresponds with the tech’s selected focal spot. The step-down transformer uses the mutual induction principle. It has a pair of winding cables, where the secondary winding has fewer turns than the primary side. This decreases the voltage flowing through the step-down transformer. The x-ray circuit’s step-down transformer provides the correct voltage required to heat the x-ray tube’s cathode filament.");
        }
      }
      function tube() {
        if ($('#stepDownTransformer').css('display') != 'none' && $('#rectifier').css('display') != 'none') {
          $('#tube').show();
          playAudio('tube');
          $('#textbox').text("Congratulations! You have successfully powered up the x-ray circuit. The tube’s cathode filament is producing thermionic emission, and free electrons are firing over to the anode disk. As the filament electrons interact with the anode disk atoms, they produce x-rays! Now you can turn off the X-Ray tube by clicking the power label.");
        }
      }
    </script>
  </body>
</html>
